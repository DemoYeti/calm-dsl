{% import "port.yaml.jinja2" as port %}
{% import "service.yaml.jinja2" as service %}
{% import "provider_spec.yaml.jinja2" as provider_spec %}
{% import "substrate.yaml.jinja2" as substrate %}
{% import "deployment.yaml.jinja2" as deployment %}
{% import "profile.yaml.jinja2" as profile %}
{% import "blueprint.yaml.jinja2" as blueprint %}
{% import "blueprint_payload.yaml.jinja2" as blueprint_payload %}
{% import "ref.yaml.jinja2" as ref %}
{% import "descriptor.yaml.jinja2" as descriptor %}
{% import "variable.yaml.jinja2" as variable %}
{% import "package.yaml.jinja2" as package %}
{% import "credential.yaml.jinja2" as credential %}
{% import "task.yaml.jinja2" as task %}
{% import "runbook.yaml.jinja2" as runbook %}
{% import "action.yaml.jinja2" as action %}
{% import "project.yaml.jinja2" as project %}
{% import "ahv_project.yaml.jinja2" as ahv_project %}
{% import "simple_deployment.yaml.jinja2" as simple_deployment %}
{% import "simple_blueprint.yaml.jinja2" as simple_blueprint %}
{% import "published_service.yaml.jinja2" as published_service %}
{% import "pod_deployment.yaml.jinja2" as pod_deployment %}
{% import "ahv_vm.yaml.jinja2" as ahv_vm %}
{% import "simple_pod_deployment.yaml.jinja2" as simple_pod_deployment %}
{% import "vm_disk_package.yaml.jinja2" as vm_disk_package %}
{% import "readiness_probe.yaml.jinja2" as readiness_probe %}

{% macro Schemas() -%}

{{ port.PortSchema() }}
{{ service.ServiceSchema() }}
{{ published_service.PublishedServiceSchema() }}
{{ provider_spec.ProviderSpecSchema() }}
{{ substrate.SubstrateSchema() }}
{{ deployment.DeploymentSchema() }}
{{ pod_deployment.PODDeploymentSchema() }}
{{ simple_pod_deployment.SimplePODDeploymentSchema() }}
{{ profile.ProfileSchema() }}
{{ blueprint.BlueprintSchema() }}
{{ blueprint_payload.BlueprintPayloadSchema() }}
{{ ref.RefSchema() }}
{{ descriptor.DescriptorSchema() }}
{{ variable.VariableSchema() }}
{{ package.PackageSchema() }}
{{ credential.CredentialSchema() }}
{{ task.TaskSchema() }}
{{ runbook.RunbookSchema() }}
{{ action.ActionSchema() }}
{{ project.ProjectSchema() }}
{{ ahv_project.AhvProjectSchema() }}
{{ simple_deployment.SimpleDeploymentSchema() }}
{{ simple_blueprint.SimpleBlueprintSchema() }}
{{ ahv_vm.AhvVmSchema() }}
{{ vm_disk_package.VmDiskPackageSchema() }}
{{ readiness_probe.ReadinessProbeSchema() }}

{%- endmacro %}


info:
  title: Calm v3 API schema with calm.dsl extenstions.
  description: Latest stable calm schemas. Later to be obtained from the openapi spec.
  version: 2.6.0

components:
  schemas:
    {{ Schemas()|indent(4) }}
